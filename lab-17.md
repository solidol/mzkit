# Створення інтерактивної галереї з використання технології AJAX

## Перелік лабораторних робіт

1.  [Створення HTML-сторінки та перевірка її валідатором w3c](lab-01.md)
2.  [Оформлення сторінки з використанням графічних та медіа елементів](lab-02.md)
3.  [Робота з формами та елементами керування](lab-03.md)
4.  [Налаштування зовнішнього вигляду сторінки за допомогою CSS](lab-04.md)
5.  [Використання методу блочного верстання для створення каркасу документу](lab-05.md)
6.  [Створення адаптивного макету методом блочного верстання](lab-06.md)
7.  [Створення меню до адаптивного макету](lab-07.md)
8.  [Створення каркасу адаптивної сторінки за допомогою фреймворку Bootstrap](lab-08.md)
9.  [Створення адаптивної фотогалереї за допомогою фреймворку Bootstrap](lab-09.md)
10. [Використання коду JavaScript на сторінці. Консоль розробника](lab-10.md)
11. [Створення інтерактивних сторінок за допомогою JavaScript](lab-11.md)
12. [Робота з елементами DOM](lab-12.md)
13. [Оптимізація коду. Використання функцій](lab-13.md)
14. [Створення об'єктів](lab-14.md)
15. [Обробка помилок обчислень](lab-15.md)
16. [Кодування та декодування нотації JSON](lab-16.md)
17. [Створення інтерактивної галереї з використання технології AJAX](lab-17.md)
18. [Використання бібліотеки jQuery для обробки подій на сторінці](lab-18.md)
19. [Використання бібліотеки jQuery для обміну данними](lab-19.md)
20. [Створення фотогалереї за допомогою jQuery та Bootstrap](lab-20.md)

## Мета роботи



## Обладнання

Персональний комп'ютер. Текстовий редактор Sublime Text 3 або Notepad++. Пакет програм XAMPP. Web-браузер Chrome, Firefox, Opera, MS Edge

## Теоретичні відомості

JSON (англ. JavaScript Object Notation) – текстовый формат обмена данными, основанный на JavaScript.

Формат считается независимым от языка и может использоваться практически с любым языком программирования. Для многих языков существует готовый код для создания и обработки данных в формате JSON.

За счёт своей лаконичности по сравнению с XML формат JSON может быть более подходящим для сериализации сложных структур. Применяется в веб-приложениях как для обмена данными между браузером и сервером (AJAX), так и между серверами (программные HTTP-сопряжения).

Поскольку формат JSON является подмножеством синтаксиса языка JavaScript, то он может быть быстро десериализован встроенной функцией eval().

JSON-текст представляет собой (в закодированном виде) одну из двух структур:

1. Набор пар ключ: значение. В различных языках это реализовано как запись, структура, словарь, хеш-таблица, список с ключом или ассоциативный массив. Ключом может быть только строка (регистрозависимость не регулируется стандартом, это остаётся на усмотрение программного обеспечения. Как правило, регистр учитывается программами – имена с буквами в разных регистрах считаются разными, например, значением – любая форма. Повторяющиеся имена ключей допустимы, но не рекомендуются стандартом; обработка таких ситуаций происходит на усмотрение программного обеспечения, возможные варианты – учитывать только первый такой ключ, учитывать только последний такой ключ, генерировать ошибку.
2. Упорядоченный набор значений. Во многих языках это реализовано как массив, вектор, список или последовательность.

Структуры данных, используемые JSON, поддерживаются любым современным языком программирования, что и позволяет применять JSON для обмена данными между различными языками программирования и программными системами.

В качестве значений в JSON могут быть использованы:

 - запись – это неупорядоченное множество пар ключ:значение, заключённое в фигурные скобки «{ }». Ключ описывается строкой, между ним и значением стоит символ «:». Пары ключ-значение отделяются друг от друга запятыми.
 - массив (одномерный) – это упорядоченное множество значений. Массив заключается в квадратные скобки «[ ]». Значения разделяются запятыми. Массив может быть пустым, т.е. не содержать ни одного значения. Значения в пределах одного массива могут иметь разный тип.
 - число (целое или вещественное).
 - литералы true (логическое значение «истина»), false (логическое значение «ложь») и null.
 - строка – это упорядоченное множество из нуля или более символов юникода, заключённое в двойные кавычки. Символы могут быть указаны с использованием escape-последовательностей, начинающихся с обратной косой черты «\» (поддерживаются варианты \', \", \\, \/, \t, \n, \r, \f и \b), или записаны шестнадцатеричным кодом в кодировке Unicode в виде \uFFFF.
```
{
   "firstName": "Иван",
   "lastName": "Иванов",
   "address": {
       "streetAddress": "Московское ш., 101, кв.101",
       "city": "Ленинград",
       "postalCode": 101101
   },
   "phoneNumbers": [
       "812 123-1234",
       "916 123-4567"
   ]
}
```
На языке XML подобная структура выглядела бы примерно так:
```
<person>
  <firstName>Иван</firstName>
  <lastName>Иванов</lastName>
  <address>
    <streetAddress>Московское ш., 101, кв.101</streetAddress>
    <city>Ленинград</city>
    <postalCode>101101</postalCode>
  </address>
  <phoneNumbers>
    <phoneNumber>812 123-1234</phoneNumber>
    <phoneNumber>916 123-4567</phoneNumber>
  </phoneNumbers>
</person>
```
или так:
```
<person firstName="Иван" lastName="Иванов">
  <address streetAddress="Московское ш., 101, кв.101" city="Ленинград" postalCode="101101" />
  <phoneNumbers>
    <phoneNumber>812 123-1234</phoneNumber>
    <phoneNumber>916 123-4567</phoneNumber>
  </phoneNumbers>
</person>
```
Следующий пример JavaScript-кода показывает, как браузер может использовать XMLHttpRequest, чтобы запрашивать с сервера объект в формате JSON (серверная часть программы опущена; в ней должен быть размещён код, отправляющий данные в формате JSON-строки в ответ на запросы по url).
```
var http_request = new XMLHttpRequest();
http_request.onreadystatechange = function () {
  if (http_request.readyState !== 4)
    return;
  if (http_request.status !== 200)
    throw new Error('request was defeated');
  do_something_with_object(JSON.parse(http_request.responseText));
  http_request = null;
};
http_request.open("GET", url, true);
http_request.send(null);
```
AJAX не является технологией в полном смысле этого слова, а объединяет в себе целый ряд методологий:

 - стандартизированное представление Web-страниц с помощью языков HTML и CSS;
 - динамическое отображение и взаимодействие с пользователем с помощью DOM API и DHTML
 - обмен и обработка данных в виде XML и XSLT или JSON;
 - асинхронные запросы с помощью объекта XMLHttpRequest

Основу функциональности технологии AJAX обеспечивает объект XMLHttpRequest. Его назначение – передавать серверу HTTP- или HTTPS-запросы и обеспечивать прием и обработку ответов сервера. Функциональность этого объекта доступна благодаря набору свойств и методов. Свойства объекта XMLHttpRequest:

 - onreadystatechange Событие изменения состояния готовности сервера.
 - readyState Позволяет узнать состояние готовности сервера.
 - responseText Хранит ответ сервера как строку символов.
 - responseXML Хранит ответ сервера как XML файл.
 - status Хранит код ответа сервера.


## Хід роботи

1. Перевірити чи встановлено пакет програм web-розробника XAMPP
2. Викликати панель керування xampp-control.exe
3. Впевнитись, що web-сервер Apache запущений
4. Перейти за адресою http://127.0.0.1/ або http://localhost/ та впевнитись, що сторінка вітання XAMPP завантажилась
5. Очистити зміст каталогу C:\xampp\htdocs\
6. Створити файл index.html в середині каталогу C:\xampp\htdocs\
7. Створити файл data.json в середині каталогу C:\xampp\htdocs\
8. Перейти за адресою http://127.0.0.1/ або http://localhost/ та впевнитись, що сторінка, яку ви створили, завантажилася корректно
9. Створити файл з назвою script.js та помістити його поряд з файлом index.html
10. Підключити файл script.js в секції `<head>`
11. У файл data.json помістити просте повідомлення
12. З використанням об'єкту XMLHttpRequest звернутися до файлу data.json та вивести на екран повідомлення з файлу.
13. У файл data.json помістити будь-які структуровані дані.
14. З використанням об'єкту XMLHttpRequest звернутися до файлу data.json та розмістити на сторінці інформацію з файлу.
15. У файл script.js помістити код та перевірити його роботу
16. У "підвал" сторінки та файл script.js помістити інформацію про виконавця роботи: група, ПІБ, дата виконання.
17. Для кожного етапу роботи зробити знімки екрану або скопіювати текст консолі та додати їх у звіт з описом кожного скіншота
18. Зберегти звіт у форматі PDF
19. Роздрукувати звіт та письмово відповісти на контрольні запитання

## Контрольні питання

1. ?
2. ?
3. ?
4. ?
5. ?

## Довідники та додаткові матеріали

1. [Валідатор W3C](https://validator.w3.org)
2. [Современный учебник JavaScript](https://learn.javascript.ru)
3. [Справочник по HTML](http://htmlbook.ru)
