# Обробка помилок обчислень

[Перелік усіх робіт](README.md)

## Мета роботи

Розглянути можливості обробки помилок в JavaScript. Навчитись оброблювати реальні помилки, що можуть призводити до неправильної роботи коду сторінки.

## Обладнання

Персональний комп'ютер. Текстовий редактор Sublime Text 3 або Notepad++. Пакет програм XAMPP. Web-браузер Chrome, Firefox, Opera, MS Edge

## Теоретичні відомості

### Обробка помилок, "try..catch"

Неважливо, наскільки ми хороші в програмуванні, іноді наші скрипти містять помилки. Вони можуть виникати через наших промахів, несподіваного введення користувача, неправильної відповіді сервера і по тисячі інших причин.

Зазвичай скрипт в разі помилки «падає» (відразу ж зупиняється), з виведенням помилки в консоль.

Але є синтаксична конструкція try..catch, яка дозволяє «ловити» помилки і замість падіння робити щось більш осмислене.

### Синтаксис «try…catch»

Конструкція try..catch складається з двох основних блоків: try, і потім catch:
```js
try 
{
	// код...
} 
catch (err) 
{
	// оброка помилок
}
```
Працює вона так:

Спочатку виконується код всередині блоку try {...}. Якщо в ньому немає помилок, то блок catch (err) ігнорується: виконання доходить до кінця try і потім далі, повністю пропускаючи catch.

Якщо ж в ньому виникає помилка, то виконання try переривається, і потік управління переходить в початок catch (err). Мінлива err (можна використовувати будь-яке ім'я) містить об'єкт помилки з докладною інформацією про те, що сталося.

|![Рис. Приблизний вигляд меню](img/15010.svg)|
|:-----------------------------------------------------|
| Рис. Приблизний вигляд меню |

Таким чином, при помилці в блоці try {...} скрипт не "падає", і ми отримуємо можливість обробити помилку всередині catch.
```js
try 
{
	alert('Початок блоку try');  // (1) <--
	lalala; // помилка, змінна не визначена!
	alert('Кінець блоку try (ніколи не виконається)');  // (2)
} 
catch(err) 
{
	alert(`Виникла помилка!`); // (3) <--
}
```
>try..catch працює тільки для помилок, що виникають під час виконання коду. Щоб try..catch працював, код повинен бути здійсненним. Він не спрацює, якщо код синтаксично невірний, наприклад, містить не співпадає кількість фігурних дужок або інші помилки.

try..catch працює синхронно: виключення, яке відбудеться в коді, запланованому «на майбутнє», наприклад в setTimeout, try..catch не зловить.

### Об'єкт помилки

Коли виникає помилка, JavaScript генерує об'єкт, що містить її деталі. Потім цей об'єкт передається як аргумент в блок catch:
```js
try 
{
	// ...
} 
catch(err) 
{ // <-- об'єкт помилки, можна використовувати іншу назву замість err
	// ...
}
```
Для всіх вбудованих помилок цей об'єкт має дві основні властивості:

 - name - Ім'я помилки. Наприклад, для невизначеної змінної це "ReferenceError".
 - message - Текстове повідомлення про деталі помилки.
 - stack - Поточний стек виклику: рядок, що містить інформацію про послідовність вкладених викликів, які призвели до помилки. Використовується з метою налагодження.

## Хід роботи

1. Перевірити чи встановлено пакет програм web-розробника XAMPP
2. Викликати панель керування xampp-control.exe
3. Впевнитись, що web-сервер Apache запущений
4. Перейти за адресою http://127.0.0.1/ або http://localhost/ та впевнитись, що сторінка вітання XAMPP завантажилась
5. Очистити зміст каталогу C:\xampp\htdocs\
6. Створити файл index.html в середині каталогу C:\xampp\htdocs\
7. Перейти за адресою http://127.0.0.1/ або http://localhost/ та впевнитись, що сторінка, яку ви створили, завантажилася корректно
8. Створити файл з назвою script.js та помістити його поряд з файлом index.html
9. Підключити файл script.js в секції `<head>`
10. За допомогою оператору throw згенерувати помилку та вивести повідомлення в консоль браузеру
11. За допомогою оператору throw згенерувати помилку та вивести повідомлення за допомогою функції alert();
12. За допомогою оператору throw згенерувати помилку та вивести повідомлення у спливаючому вікні з поясненням помилки. Вікно реалізувати за допомогою прихованого блоку `<div>` керування вікном має бути реалізоване за допомогою JavaScript
13. Імітувати помилку звернення до елементу сторінки якого не існує. Повідомлення про помилку реалізувати як у попередньому пункті
14. Імітувати помилку виклику функції, якої не вснує. Повідомлення про помилку реалізувати як у попередньому пункті
15. Код JavaScript розмістити у файлі script.js почергово та перевірити його роботу
16. У "підвал" сторінки та файл script.js помістити інформацію про виконавця роботи: група, ПІБ, дата виконання.
17. Для кожного етапу роботи зробити знімки екрану або скопіювати текст консолі та додати їх у звіт з описом кожного скіншота
18. Зберегти звіт у форматі PDF
19. Роздрукувати звіт та письмово відповісти на контрольні запитання

## Контрольні питання

1. Для чого потрібні оператори "try..catch"?
2. Яка послідовність роботи операторів в середині секцій "try", "catch" та "finaly"?
3. Які види помилок можна обробити за допомогою "try..catch"?
4. Яким чином штучно імітувати помилку?

## Довідники та додаткові матеріали

1. [Валідатор W3C](https://validator.w3.org)
2. [Современный учебник JavaScript](https://learn.javascript.ru)
3. [Справочник по HTML](http://htmlbook.ru)
4. [Обработка ошибок, "try..catch"](https://learn.javascript.ru/try-catch)
5. [Порядок выполнения и обработка ошибок](https://developer.mozilla.org/ru/docs/Web/JavaScript/Guide/Control_flow_and_error_handling)
6. [Инструкция throw](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Statements/throw)
